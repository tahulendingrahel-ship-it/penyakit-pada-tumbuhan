<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>SPK Diagnosa Penyakit Tumbuhan</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: url('https://images.unsplash.com/photo-1501004318641-b39e6451bec6') no-repeat center center fixed;
        background-size: cover;
        color: #fff;
        overflow-x: hidden;
    }

    .overlay {
        background: rgba(0,0,0,0.6);
        width: 100%;
        height: 100vh;
        position: absolute;
        top: 0;
        left: 0;
    }

    .container {
        position: relative;
        z-index: 10;
        text-align: center;
        padding-top: 120px;
        animation: fadeIn 1.2s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity:0; transform: translateY(20px); }
        to { opacity:1; transform: translateY(0); }
    }

    h1 { font-size: 45px; text-shadow: 2px 2px 8px #000; }
    h3 { text-shadow: 2px 2px 6px #000; }

    /* ANIMASI TOMBOL */
    button {
        padding: 15px 25px;
        font-size: 18px;
        margin-top: 20px;
        border: none;
        cursor: pointer;
        background: #4CAF50;
        color: white;
        border-radius: 8px;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    button:hover {
        transform: scale(1.08);
        box-shadow: 0px 0px 15px #4CAF50;
    }

    /* SPK CARD */
    #spkPage {
        display: none;
        background: rgba(255,255,255,0.95);
        color: black;
        padding: 20px;
        margin: 50px auto;
        width: 520px;
        border-radius: 12px;
        animation: fadeIn 0.9s ease-in-out;
    }

    select, .btnDiagnosa {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
        font-size: 16px;
    }

    .btnDiagnosa {
        background: #4CAF50;
        color:white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .btnDiagnosa:hover {
        transform: scale(1.05);
        box-shadow: 0px 0px 10px #4CAF50;
    }

    .result-box {
        background: #e7ffe7;
        padding: 15px;
        margin-top: 20px;
        border-radius: 8px;
        border-left: 5px solid #4CAF50;
    }

    /* ANIMASI GAMBAR */
    .img-penyakit {
        width: 100%;
        border-radius: 10px;
        margin: 10px 0;
        opacity: 0;
        transform: scale(0.9);
        animation: zoomFade 0.7s forwards ease-out;
    }

    @keyframes zoomFade {
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

</style>

</head>
<body>

<div class="overlay"></div>

<!-- MENU UTAMA -->
<div class="container" id="menuUtama">
    <h1>SISTEM PENDUKUNG KEPUTUSAN<br>PENYAKIT TANAMAN</h1>
    <h3>KELOMPOK 4 ‚Äì TEKNOLOGI INFORMASI</h3>

    <button onclick="bukaSPK()">Mulai Diagnosa Penyakit</button>
</div>

<!-- HALAMAN SPK -->
<div id="spkPage">

    <h2 style="text-align:center;">Diagnosa Penyakit Tumbuhan</h2>
    <p style="text-align:center;">Pilih gejala untuk mengetahui penyakitnya</p>

    <label>Gejala 1:</label>
    <select id="gejala1" onchange="updateGejala2()">
        <option value="">-- pilih gejala --</option>
    </select>

    <label>Gejala 2:</label>
    <select id="gejala2">
        <option value="">-- pilih gejala --</option>
    </select>

    <button class="btnDiagnosa" onclick="diagnosa()">Diagnosa</button>

    <div id="hasil"></div>

</div>

<script>
// DATA + GAMBAR
const data = [
    { no:1, tanaman:"Anggur", penyakit:"Embun Tepung", gejala:"Daun Menguning dan Menggulung", 
      img:"https://i.postimg.cc/fR7q7z9z/powdery-mildew.jpg" },

    { no:2, tanaman:"Gandum", penyakit:"Karat Daun", gejala:"Bercak Timbul pada Permukaan Daun",
      img:"https://i.postimg.cc/R0SxT3c7/leaf-rust.jpg" },

    { no:3, tanaman:"Padi", penyakit:"Hawar Daun", gejala:"Ujung Daun Mengering",
      img:"https://i.postimg.cc/rF1C5z9f/blight.jpg" },

    { no:4, tanaman:"Tomat", penyakit:"Layu Fusarium", gejala:"Tanaman Layu meski Tanah Basah",
      img:"https://i.postimg.cc/YqLD4DP9/fusarium.jpg" },

    { no:5, tanaman:"Melon", penyakit:"Busuk Batang", gejala:"Batang Bagian dalam Cokelat",
      img:"https://i.postimg.cc/43jF9FB9/stem-rot.jpg" },

    { no:6, tanaman:"Timun", penyakit:"Virus Daun Keriting", gejala:"Daun Keriting dan Mengecil",
      img:"https://i.postimg.cc/9Mb8f7b1/curl-virus.jpg" },

    { no:7, tanaman:"Pepaya", penyakit:"Bercak Daun Cincin", gejala:"Ada Cincin Konsentris",
      img:"https://i.postimg.cc/yxDvH2kY/ring-spot.jpg" },

    { no:8, tanaman:"Kentang", penyakit:"Layu Bakteri", gejala:"Tanaman Layu Mendadak",
      img:"https://i.postimg.cc/MTQZxz4R/bacterial-wilt.jpg" },

    { no:9, tanaman:"Cabai", penyakit:"Gummosis", gejala:"Getah Kental Keluar dari Batang",
      img:"https://i.postimg.cc/MGbxS0pQ/gummosis.jpg" },

    { no:10, tanaman:"Kelapa Sawit", penyakit:"Busuk Pangkal Batang", gejala:"Pangkal Batang Membusuk dan Hitam",
      img:"https://i.postimg.cc/JzpsRgW0/basal-rot.jpg" }
];

const daftarGejala = [...new Set(data.map(d => d.gejala))];

function isiDropdown() {
    const g1 = document.getElementById('gejala1');
    const g2 = document.getElementById('gejala2');

    daftarGejala.forEach(g => {
        g1.innerHTML += `<option value="${g}">${g}</option>`;
        g2.innerHTML += `<option value="${g}">${g}</option>`;
    });
}

function updateGejala2() {
    const dipilih = document.getElementById('gejala1').value;
    const g2 = document.getElementById('gejala2');

    g2.innerHTML = `<option value="">-- pilih gejala --</option>`;
    daftarGejala
        .filter(g => g !== dipilih)
        .forEach(g => g2.innerHTML += `<option value="${g}">${g}</option>`);
}

function diagnosa() {
    const g1 = document.getElementById('gejala1').value;
    const g2 = document.getElementById('gejala2').value;
    const hasilDiv = document.getElementById('hasil');

    if (!g1) {
        hasilDiv.innerHTML = `<div class="result-box" style="background:#ffe7e7;border-left:5px solid red;">
            ‚ùó Pilih minimal 1 gejala terlebih dahulu.
        </div>`;
        return;
    }

    const kemungkinan = data.filter(d => d.gejala === g1 || d.gejala === g2);

    if (kemungkinan.length === 0) {
        hasilDiv.innerHTML = `<div class="result-box" style="background:#ffe7e7;border-left:5px solid red;">
            ‚ùó Tidak ditemukan penyakit berdasarkan gejala tersebut.
        </div>`;
        return;
    }

    let output = `<div class="result-box"><b>HASIL DIAGNOSA</b><br><br>`;

    kemungkinan.forEach(k => {
        output += `
            üåø <b>${k.tanaman}</b><br>
            Penyakit: <b>${k.penyakit}</b><br>
            Gejala: ${k.gejala}<br><br>
            <img src="${k.img}" class="img-penyakit"><br>
        `;
    });

    output += `</div>`;
    hasilDiv.innerHTML = output;
}

function bukaSPK() {
    document.getElementById('menuUtama').style.display = 'none';
    document.getElementById('spkPage').style.display = 'block';
}

isiDropdown();
</script>

</body>
</html>



